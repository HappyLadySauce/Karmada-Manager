# 产品路线图 (Roadmap) - Karmada-Manager 增强

## 1. 路线图概述

本路线图旨在规划 Karmada-Manager 增强功能的迭代开发计划，确保新功能能够有序、高质量地交付。路线图将根据用户反馈和市场变化进行动态调整。

**核心目标**：通过分阶段的迭代，逐步实现 PRD 中定义的功能，优先交付对用户价值最高的特性，特别是成员集群管理增强和调度可视化。

## 2. 版本规划策略

-   **MVP (Minimum Viable Product) 阶段**: 快速上线核心价值功能，收集用户反馈。
-   **迭代优化阶段 (v1.x)**: 根据反馈完善现有功能，提升用户体验和系统稳定性。
-   **新功能探索阶段 (v2.x 及以后)**: 探索 PRD 中定义的未来功能储备，拓展产品能力边界。

## 3. 详细版本规划

### 3.1 MVP (计划 Q3 {{CURRENT_YEAR}} 发布)

**目标**: 提供基础的成员集群节点级可见性和核心的调度信息可视化，解决用户最迫切的痛点。

**核心功能**: 

*   **成员集群管理增强 (基础)**:
    *   查看成员集群列表及其健康状态、资源概览 (CPU, Memory, Pods)。
    *   查看特定成员集群的节点列表，包含节点状态、IP、资源分配 (CPU, Memory, Pods)。
    *   查看特定节点的详细信息 (Conditions, Capacity, Allocatable, System Info)。
    *   查看特定节点上运行的 Pod 列表 (名称、命名空间、状态)。
*   **资源调度可视化 (基础)**:
    *   查看 Deployment 关联的 PropagationPolicy 的主要规则。
    *   可视化展示 Deployment 根据 PropagationPolicy 在各成员集群的副本分配计划和实际 Ready 状态。
*   **Pod 详情 (基础)**:
    *   查看成员集群中 Pod 的基本信息 (名称、命名空间、状态、IP、所在节点、所在成员集群)。
    *   查看 Pod 事件。
*   **Karmada 组件状态 (基础)**:
    *   展示 Karmada API Server, Scheduler, Controller 的基本健康状态。

### 3.2 版本 1.1 (计划 Q4 {{CURRENT_YEAR}} 发布)

**目标**: 增强成员集群资源的可操作性，深化调度追溯能力，提升易用性。

**核心功能**: 

*   **成员集群管理增强 (进阶)**:
    *   查看成员集群中指定资源 (Deployment, Pod, ConfigMap, Secret) 的 YAML 定义。
    *   (谨慎引入) 编辑成员集群中 ConfigMap/Secret 的 YAML 并应用。
    *   查看成员集群中 Pod 的日志 (支持选择容器, previous log)。
*   **资源调度可视化与追溯 (进阶)**:
    *   在 Pod 详情页清晰展示其所属 Workload、应用的调度策略 (PropagationPolicy/OverridePolicy 名称和关键规则)。
    -   明确展示 Pod 被调度到特定成员集群和节点的原因（基于策略的关键匹配点，如标签、权重等）。
    *   展示 `ResourceBinding` / `Work` 对象与 Workload 和 Pod 的关联。
*   **用户体验优化**:
    *   全局资源搜索 (按名称、命名空间搜索 Workload, Pod)。
    *   优化列表加载性能和前端交互。

### 3.3 版本 1.2 (计划 Q1 {{CURRENT_YEAR_PLUS_1}} 发布)

**目标**: 完善非功能性需求，引入初步的告警和事件整合，探索更高级的调度可视化。

**核心功能**:

*   **非功能性需求强化**:
    *   性能优化：针对大规模集群场景进行专项优化。
    *   安全性增强：完善 RBAC 机制，对敏感操作增加二次确认。
*   **统一事件查看**: 
    *   提供集中的界面查看来自 Karmada 控制面的关键事件。
    *   (可选) 汇总部分来自成员集群的关键事件。
*   **调度策略管理 (初步)**:
    *   更友好的 PropagationPolicy/OverridePolicy 创建和编辑界面。
    *   可视化展示集群的调度相关属性 (标签, Taints, 容量) 如何影响策略决策。
*   **(可选) Pod 终端访问**: 
    *   在严格的安全控制和审计下，提供进入 Pod 终端的功能。

### 3.4 未来版本 (v2.0 及以后 - 待定)

**目标**: 根据用户反馈和技术趋势，探索更高级的功能。

**潜在功能 (来自 PRD Backlog)**:

*   基于 GitOps 的策略管理。
*   调度模拟器。
*   成本优化建议。
*   高级监控集成 (Prometheus/Grafana)。
*   Web Terminal for Member Cluster Nodes。

## 4. 功能优先级矩阵 (P0/P1/P2)

| 功能点 (简述)                                       | PRD 对应章节      | 优先级 (MVP) | 优先级 (v1.1) | 优先级 (v1.2) |
| --------------------------------------------------- | ----------------- | ------------ | ------------- | ------------- |
| **成员集群管理增强**                                | 5.2.1             |              |               |               |
| - 查看集群列表与状态                                |                   | P0           |               |               |
| - 查看节点列表与状态                                |                   | P0           |               |               |
| - 查看节点详情                                      |                   | P0           |               |               |
| - 查看节点上的 Pod 列表                             |                   | P0           |               |               |
| - 查看成员集群资源 YAML                             |                   |              | P0            |               |
| - 编辑成员集群 ConfigMap/Secret                     |                   |              | P1            |               |
| - 查看 Pod 日志                                     |                   |              | P0            |               |
| **资源调度可视化与追溯**                            | 5.2.2             |              |               |               |
| - PropagationPolicy 效果可视化 (副本分配)         |                   | P0           |               |               |
| - Pod 详情基础 (节点、集群、事件)                   |                   | P0           |               |               |
| - Pod 调度路径追溯 (关联策略、决策点)               |                   |              | P0            |               |
| - 集群调度属性影响可视化                            |                   |              |               | P1            |
| **Karmada 组件状态**                                | 5.3               | P1           |               |               |
| **全局资源搜索**                                    | 5.3               |              | P1            |               |
| **统一事件查看**                                    | 5.3               |              |               | P1            |
| **(可选) Pod 终端访问**                             | 5.2.1             |              |               | P2            |
| **非功能性需求 (性能、安全)**                       | 7.1, 7.2          | P1 (基础)    | P1 (持续)   | P0 (强化)   |

## 5. 详细时间线计划 (里程碑)

-   **{{CURRENT_YEAR}} Q2**: 
    -   PRD 评审与确认。
    -   技术方案设计与评审 (MVP)。
    -   开发环境准备。
-   **{{CURRENT_YEAR}} Q3**: 
    -   **里程碑: MVP 版本功能开发完成**。
    -   MVP 版本测试。
    -   **里程碑: MVP 版本发布**。
    -   收集初步用户反馈。
-   **{{CURRENT_YEAR}} Q4**: 
    -   v1.1 功能开发。
    -   **里程碑: v1.1 版本功能开发完成**。
    -   v1.1 版本测试与发布。
-   **{{CURRENT_YEAR_PLUS_1}} Q1**: 
    -   v1.2 功能开发。
    -   **里程碑: v1.2 版本功能开发完成**。
    -   v1.2 版本测试与发布。
-   **后续**: 根据实际情况和反馈调整。

## 6. 资源规划 (初步建议)

-   **产品团队**: 1 产品经理 (兼顾需求与项目管理)。
-   **设计团队**: 0.5 UI/UX 设计师 (初期集中投入，后续按需)。
-   **开发团队**: 
    -   2-3 前端工程师。
    -   1-2 后端工程师 (熟悉 Golang 和 Kubernetes/Karmada API)。
-   **测试团队**: 1-2 QA 工程师。

*注：资源投入需根据项目优先级和可用资源进行调整。*

## 7. 风险管理

| 风险描述                                       | 可能性 | 影响程度 | 缓解措施与应对计划                                                                                                |
| ---------------------------------------------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------- |
| **技术实现复杂度高** (如调度追溯、成员集群代理)    | 中     | 高       | - 初期进行技术预研和原型验证。<br>- 分阶段实现，先核心后边缘。<br>- 寻求社区或专家支持。                                        |
| **Karmada API 变更或不稳定性**                 | 低-中  | 高       | - 明确依赖的 Karmada 版本。<br>- 关注 Karmada 社区动态，及时适配。<br>- 设计解耦，减少对特定 API 实现的强依赖。                           |
| **用户反馈收集不足或不准确**                     | 中     | 中       | - 主动建立用户反馈渠道 (GitHub Issues, 问卷, 用户群)。<br>- MVP 阶段重点收集核心用户反馈。<br>- 定期进行用户访谈。                      |
| **团队资源不足或变更**                         | 中     | 高       | - 争取稳定的资源投入。<br>- 做好知识传递和备份。<br>- 根据资源情况调整版本范围和发布计划。                                            |
| **安全风险控制不当** (如 Pod 终端、资源编辑)     | 中     | 高       | - 严格的权限控制和审计日志。<br>- 对高风险功能进行充分的安全测试和评估。<br>- 默认关闭或提供明确的风险提示和配置选项。                    |
| **与现有 Karmada Dashboard 的集成冲突或困难**    | 低     | 中       | - 早期与 Dashboard 维护者沟通。<br>- 遵循 Dashboard 的架构和代码规范。<br>- 采用插件化或模块化的方式集成新功能。                  |

*注：{{CURRENT_YEAR}} 和 {{CURRENT_YEAR_PLUS_1}} 将被替换为实际年份。* 