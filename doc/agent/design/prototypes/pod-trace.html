<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karmada-Manager - Pod调度追溯</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'karmada-blue': '#1B4F72',
                        'karmada-light': '#3498DB',
                        'karmada-green': '#27AE60',
                        'karmada-orange': '#F39C12',
                        'karmada-red': '#E74C3C'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .sidebar {
            width: 280px;
            min-height: 100vh;
            background: linear-gradient(180deg, #1B4F72 0%, #2C3E50 100%);
        }
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            background: #f8fafc;
        }
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin-bottom: 20px;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 10px;
            bottom: -20px;
            width: 2px;
            background: #e5e7eb;
        }
        .timeline-item:last-child::before {
            bottom: 50px;
        }
        .timeline-dot {
            position: absolute;
            left: 9px;
            top: 8px;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid white;
            z-index: 1;
        }
        .trace-step {
            transition: all 0.3s ease;
        }
        .trace-step:hover {
            transform: translateX(4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .scheduling-flow {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .flow-arrow {
            animation: flowPulse 2s infinite;
        }
        @keyframes flowPulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        .event-card {
            border-left: 4px solid transparent;
            transition: all 0.3s ease;
        }
        .event-card.normal {
            border-left-color: #27AE60;
        }
        .event-card.warning {
            border-left-color: #F39C12;
        }
        .event-card.error {
            border-left-color: #E74C3C;
        }
        .yaml-content {
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            border-radius: 8px;
            padding: 16px;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- 侧边栏 -->
    <div class="sidebar fixed left-0 top-0 text-white shadow-xl z-10">
        <div class="p-6 border-b border-blue-600">
            <div class="flex items-center">
                <i class="fas fa-cubes text-3xl text-blue-300 mr-3"></i>
                <div>
                    <h1 class="text-xl font-bold">Karmada-Manager</h1>
                    <p class="text-blue-300 text-sm">多集群管理平台</p>
                </div>
            </div>
        </div>

        <nav class="mt-6">
            <a href="overview.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-tachometer-alt w-5 mr-3"></i>
                <span>系统概览</span>
            </a>
            <a href="clusters.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-cubes w-5 mr-3"></i>
                <span>集群管理</span>
            </a>
            <a href="workload-scheduling.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-project-diagram w-5 mr-3"></i>
                <span>调度可视化</span>
            </a>
            <a href="policy-management.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-shield-alt w-5 mr-3"></i>
                <span>策略管理</span>
            </a>
            <div class="px-6 py-2 text-blue-300 text-sm font-medium mt-8">
                成员集群
            </div>
            <a href="cluster-detail.html" class="flex items-center px-6 py-2 hover:bg-blue-600 hover:bg-opacity-30 transition-colors text-sm">
                <i class="fas fa-server w-4 mr-3 text-green-400"></i>
                <span>master</span>
                <span class="ml-auto text-xs bg-green-500 px-2 py-1 rounded">Ready</span>
            </a>
            <a href="#" class="flex items-center px-6 py-2 hover:bg-blue-600 hover:bg-opacity-30 transition-colors text-sm">
                <i class="fas fa-server w-4 mr-3 text-green-400"></i>
                <span>branch</span>
                <span class="ml-auto text-xs bg-green-500 px-2 py-1 rounded">Ready</span>
            </a>
        </nav>

        <div class="absolute bottom-6 left-6 right-6">
            <div class="bg-blue-600 bg-opacity-30 rounded-lg p-4">
                <div class="flex items-center mb-2">
                    <i class="fas fa-user-circle mr-2"></i>
                    <span class="font-medium">张伟</span>
                </div>
                <div class="text-blue-300 text-sm">平台运维工程师</div>
            </div>
        </div>
    </div>

    <!-- 主内容区域 -->
    <div class="main-content">
        <!-- 顶部导航栏 -->
        <header class="bg-white shadow-sm border-b px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <a href="workload-scheduling.html" class="text-karmada-blue hover:text-blue-700 mr-4">
                        <i class="fas fa-arrow-left"></i>
                    </a>
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Pod 调度追溯</h2>
                        <p class="text-gray-600">nginx-app-7d9f2c8b5-x8t9q 的完整调度历程</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center text-sm text-green-600">
                        <div class="w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                        <span>Running</span>
                    </div>
                    <button class="bg-karmada-blue text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
                        <i class="fas fa-sync-alt mr-2"></i>刷新追溯
                    </button>
                </div>
            </div>
        </header>

        <!-- 主要内容 -->
        <main class="p-6">
            <!-- Pod 基本信息 -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-cube text-karmada-blue mr-2"></i>Pod 基本信息
                </h3>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div>
                        <h5 class="text-sm font-medium text-gray-600 mb-2">Pod 名称</h5>
                        <p class="text-lg font-bold text-gray-800">nginx-app-7d9f2c8b5-x8t9q</p>
                        <div class="flex items-center mt-1">
                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Running</span>
                        </div>
                    </div>

                    <div>
                        <h5 class="text-sm font-medium text-gray-600 mb-2">所属集群</h5>
                        <p class="text-sm text-gray-800 font-medium">master</p>
                        <p class="text-xs text-gray-500">目标节点: m-rke2-worker01</p>
                    </div>

                    <div>
                        <h5 class="text-sm font-medium text-gray-600 mb-2">命名空间</h5>
                        <p class="text-sm text-gray-800">default</p>
                        <p class="text-xs text-gray-500">工作负载: nginx-deployment</p>
                    </div>

                    <div>
                        <h5 class="text-sm font-medium text-gray-600 mb-2">调度开始时间</h5>
                        <p class="text-sm text-gray-800">2025-05-19 14:32:15</p>
                        <p class="text-xs text-gray-500">运行时长: 8小时</p>
                    </div>
                </div>
            </div>

            <!-- 调度流程可视化 -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-6">
                    <i class="fas fa-route text-karmada-blue mr-2"></i>调度流程概览
                </h3>

                <div class="relative">
                    <div class="flex items-center justify-between">
                        <!-- 1. Karmada 控制面 -->
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-karmada-blue to-blue-700 rounded-full flex items-center justify-center text-white mb-3 mx-auto">
                                <i class="fas fa-crown text-xl"></i>
                            </div>
                            <h4 class="font-bold text-gray-800 text-sm">Karmada</h4>
                            <p class="text-xs text-gray-600">控制面</p>
                            <div class="mt-2 text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">
                                策略匹配
                            </div>
                        </div>

                        <!-- 箭头 1 -->
                        <div class="flex-1 mx-4">
                            <div class="relative">
                                <div class="h-1 bg-gradient-to-r from-karmada-blue to-karmada-green flow-arrow"></div>
                                <div class="absolute right-0 top-1/2 transform -translate-y-1/2">
                                    <div class="w-0 h-0 border-l-4 border-l-karmada-green border-t-2 border-t-transparent border-b-2 border-b-transparent"></div>
                                </div>
                                <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs text-gray-600">
                                    PropagationPolicy
                                </div>
                            </div>
                        </div>

                        <!-- 2. 调度决策 -->
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center text-white mb-3 mx-auto">
                                <i class="fas fa-brain text-xl"></i>
                            </div>
                            <h4 class="font-bold text-gray-800 text-sm">调度器</h4>
                            <p class="text-xs text-gray-600">决策引擎</p>
                            <div class="mt-2 text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded">
                                集群选择
                            </div>
                        </div>

                        <!-- 箭头 2 -->
                        <div class="flex-1 mx-4">
                            <div class="relative">
                                <div class="h-1 bg-gradient-to-r from-purple-500 to-green-500 flow-arrow"></div>
                                <div class="absolute right-0 top-1/2 transform -translate-y-1/2">
                                    <div class="w-0 h-0 border-l-4 border-l-green-500 border-t-2 border-t-transparent border-b-2 border-b-transparent"></div>
                                </div>
                                <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs text-gray-600">
                                    Work 资源
                                </div>
                            </div>
                        </div>

                        <!-- 3. 目标集群 -->
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center text-white mb-3 mx-auto">
                                <i class="fas fa-server text-xl"></i>
                            </div>
                            <h4 class="font-bold text-gray-800 text-sm">master</h4>
                            <p class="text-xs text-gray-600">目标集群</p>
                            <div class="mt-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded">
                                Pod 运行
                            </div>
                        </div>

                        <!-- 箭头 3 -->
                        <div class="flex-1 mx-4">
                            <div class="relative">
                                <div class="h-1 bg-gradient-to-r from-green-500 to-orange-500 flow-arrow"></div>
                                <div class="absolute right-0 top-1/2 transform -translate-y-1/2">
                                    <div class="w-0 h-0 border-l-4 border-l-orange-500 border-t-2 border-t-transparent border-b-2 border-b-transparent"></div>
                                </div>
                                <div class="absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs text-gray-600">
                                    Kubelet
                                </div>
                            </div>
                        </div>

                        <!-- 4. 节点调度 -->
                        <div class="text-center">
                            <div class="w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center text-white mb-3 mx-auto">
                                <i class="fas fa-microchip text-xl"></i>
                            </div>
                            <h4 class="font-bold text-gray-800 text-sm">Worker01</h4>
                            <p class="text-xs text-gray-600">目标节点</p>
                            <div class="mt-2 text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded">
                                容器运行
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 调度时间线和相关策略 -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
                <!-- 调度时间线 -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h4 class="text-lg font-bold text-gray-800 mb-6">
                        <i class="fas fa-clock text-karmada-blue mr-2"></i>调度时间线
                    </h4>

                    <div class="space-y-0">
                        <!-- 时间线项目 1 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-blue-500"></div>
                            <div class="trace-step bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <h6 class="font-medium text-gray-800">创建 Deployment</h6>
                                    <span class="text-xs text-gray-600">14:32:15</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">用户创建 nginx-deployment 资源</p>
                                <div class="flex items-center text-xs text-blue-600">
                                    <i class="fas fa-user mr-1"></i>
                                    <span>操作者: kubectl apply</span>
                                </div>
                            </div>
                        </div>

                        <!-- 时间线项目 2 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-purple-500"></div>
                            <div class="trace-step bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <h6 class="font-medium text-gray-800">策略匹配</h6>
                                    <span class="text-xs text-gray-600">14:32:16</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">匹配到 PropagationPolicy: nginx-propagation</p>
                                <div class="flex items-center text-xs text-purple-600">
                                    <i class="fas fa-shield-alt mr-1"></i>
                                    <span>策略引擎: 规则验证</span>
                                </div>
                            </div>
                        </div>

                        <!-- 时间线项目 3 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-green-500"></div>
                            <div class="trace-step bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <h6 class="font-medium text-gray-800">集群调度</h6>
                                    <span class="text-xs text-gray-600">14:32:17</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">调度到集群 master (权重: 3)</p>
                                <div class="flex items-center text-xs text-green-600">
                                    <i class="fas fa-brain mr-1"></i>
                                    <span>调度器: 静态权重分配</span>
                                </div>
                            </div>
                        </div>

                        <!-- 时间线项目 4 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-orange-500"></div>
                            <div class="trace-step bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <h6 class="font-medium text-gray-800">Work 资源创建</h6>
                                    <span class="text-xs text-gray-600">14:32:18</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">在目标集群创建 Work 资源</p>
                                <div class="flex items-center text-xs text-orange-600">
                                    <i class="fas fa-file-alt mr-1"></i>
                                    <span>Work: karmada-es-master-5f7d8...</span>
                                </div>
                            </div>
                        </div>

                        <!-- 时间线项目 5 -->
                        <div class="timeline-item">
                            <div class="timeline-dot bg-green-500"></div>
                            <div class="trace-step bg-gray-50 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-2">
                                    <h6 class="font-medium text-gray-800">Pod 启动</h6>
                                    <span class="text-xs text-gray-600">14:32:22</span>
                                </div>
                                <p class="text-sm text-gray-600 mb-2">Pod 在节点 m-rke2-worker01 成功启动</p>
                                <div class="flex items-center text-xs text-green-600">
                                    <i class="fas fa-play mr-1"></i>
                                    <span>状态: Running</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 相关策略信息 -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h4 class="text-lg font-bold text-gray-800 mb-6">
                        <i class="fas fa-cogs text-karmada-blue mr-2"></i>相关策略信息
                    </h4>

                    <!-- PropagationPolicy -->
                    <div class="mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200">
                        <div class="flex items-center justify-between mb-3">
                            <h5 class="font-bold text-blue-800">nginx-propagation</h5>
                            <span class="text-xs bg-blue-600 text-white px-2 py-1 rounded">PropagationPolicy</span>
                        </div>
                        
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-blue-700">目标集群:</span>
                                <span class="text-blue-800 font-medium">master, branch</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-blue-700">副本分配:</span>
                                <span class="text-blue-800 font-medium">Static (3:2)</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-blue-700">资源选择器:</span>
                                <span class="text-blue-800 font-medium">nginx-deployment</span>
                            </div>
                        </div>
                        
                        <button onclick="viewPolicyDetail('nginx-propagation')" class="mt-3 text-xs text-blue-600 hover:text-blue-800 transition-colors">
                            <i class="fas fa-external-link-alt mr-1"></i>查看完整策略
                        </button>
                    </div>

                    <!-- OverridePolicy -->
                    <div class="mb-6 p-4 bg-orange-50 rounded-lg border border-orange-200">
                        <div class="flex items-center justify-between mb-3">
                            <h5 class="font-bold text-orange-800">nginx-override</h5>
                            <span class="text-xs bg-orange-600 text-white px-2 py-1 rounded">OverridePolicy</span>
                        </div>
                        
                        <div class="space-y-2 text-sm">
                            <div class="flex justify-between">
                                <span class="text-orange-700">应用集群:</span>
                                <span class="text-orange-800 font-medium">branch</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-orange-700">覆盖类型:</span>
                                <span class="text-orange-800 font-medium">Image Tag</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-orange-700">覆盖值:</span>
                                <span class="text-orange-800 font-medium">development</span>
                            </div>
                        </div>
                        
                        <button onclick="viewPolicyDetail('nginx-override')" class="mt-3 text-xs text-orange-600 hover:text-orange-800 transition-colors">
                            <i class="fas fa-external-link-alt mr-1"></i>查看完整策略
                        </button>
                    </div>

                    <!-- 调度决策摘要 -->
                    <div class="p-4 bg-green-50 rounded-lg border border-green-200">
                        <h5 class="font-bold text-green-800 mb-3">调度决策摘要</h5>
                        
                        <div class="space-y-2 text-sm text-green-700">
                            <div class="flex items-center">
                                <i class="fas fa-check-circle mr-2 text-green-600"></i>
                                <span>集群亲和性匹配成功</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-check-circle mr-2 text-green-600"></i>
                                <span>资源需求满足</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-check-circle mr-2 text-green-600"></i>
                                <span>节点调度成功</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-info-circle mr-2 text-blue-600"></i>
                                <span>调度耗时: 7 秒</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 事件日志和Pod详情 -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- 事件日志 -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h4 class="text-lg font-bold text-gray-800 mb-6">
                        <i class="fas fa-list text-karmada-blue mr-2"></i>相关事件日志
                    </h4>

                    <div class="space-y-4 max-h-96 overflow-y-auto">
                        <!-- 正常事件 -->
                        <div class="event-card normal bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center">
                                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                    <div>
                                        <h6 class="font-medium text-gray-800">Scheduled</h6>
                                        <p class="text-sm text-gray-600">Successfully assigned default/nginx-app-7d9f2c8b5-x8t9q to m-rke2-worker01</p>
                                    </div>
                                </div>
                                <span class="text-xs text-gray-500">14:32:19</span>
                            </div>
                            <div class="text-xs text-green-600">
                                <span>来源: default-scheduler</span>
                            </div>
                        </div>

                        <div class="event-card normal bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center">
                                    <i class="fas fa-download text-blue-500 mr-3"></i>
                                    <div>
                                        <h6 class="font-medium text-gray-800">Pulling</h6>
                                        <p class="text-sm text-gray-600">Pulling image "nginx:1.21"</p>
                                    </div>
                                </div>
                                <span class="text-xs text-gray-500">14:32:20</span>
                            </div>
                            <div class="text-xs text-blue-600">
                                <span>来源: kubelet</span>
                            </div>
                        </div>

                        <div class="event-card normal bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center">
                                    <i class="fas fa-check-circle text-green-500 mr-3"></i>
                                    <div>
                                        <h6 class="font-medium text-gray-800">Pulled</h6>
                                        <p class="text-sm text-gray-600">Successfully pulled image "nginx:1.21"</p>
                                    </div>
                                </div>
                                <span class="text-xs text-gray-500">14:32:21</span>
                            </div>
                            <div class="text-xs text-green-600">
                                <span>来源: kubelet</span>
                            </div>
                        </div>

                        <div class="event-card normal bg-gray-50 rounded-lg p-4">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center">
                                    <i class="fas fa-play text-green-500 mr-3"></i>
                                    <div>
                                        <h6 class="font-medium text-gray-800">Started</h6>
                                        <p class="text-sm text-gray-600">Started container nginx</p>
                                    </div>
                                </div>
                                <span class="text-xs text-gray-500">14:32:22</span>
                            </div>
                            <div class="text-xs text-green-600">
                                <span>来源: kubelet</span>
                            </div>
                        </div>

                        <!-- Karmada 相关事件 -->
                        <div class="event-card normal bg-blue-50 rounded-lg p-4 border border-blue-200">
                            <div class="flex items-start justify-between mb-2">
                                <div class="flex items-center">
                                    <i class="fas fa-crown text-karmada-blue mr-3"></i>
                                    <div>
                                        <h6 class="font-medium text-karmada-blue">Work Applied</h6>
                                        <p class="text-sm text-blue-600">Work karmada-es-master-5f7d8 applied to cluster master</p>
                                    </div>
                                </div>
                                <span class="text-xs text-blue-500">14:32:18</span>
                            </div>
                            <div class="text-xs text-karmada-blue">
                                <span>来源: karmada-agent</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pod 详细信息 -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h4 class="text-lg font-bold text-gray-800 mb-6">
                        <i class="fas fa-info-circle text-karmada-blue mr-2"></i>Pod 详细信息
                    </h4>

                    <!-- 基本信息 -->
                    <div class="mb-6">
                        <h5 class="font-medium text-gray-800 mb-3">基本信息</h5>
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <span class="text-gray-600">状态:</span>
                                <span class="ml-2 text-green-600 font-medium">Running</span>
                            </div>
                            <div>
                                <span class="text-gray-600">重启次数:</span>
                                <span class="ml-2 text-gray-800">0</span>
                            </div>
                            <div>
                                <span class="text-gray-600">Pod IP:</span>
                                <span class="ml-2 text-gray-800 font-mono">10.42.1.15</span>
                            </div>
                            <div>
                                <span class="text-gray-600">宿主机IP:</span>
                                <span class="ml-2 text-gray-800 font-mono">10.10.103.103</span>
                            </div>
                        </div>
                    </div>

                    <!-- 资源使用 -->
                    <div class="mb-6">
                        <h5 class="font-medium text-gray-800 mb-3">资源使用</h5>
                        <div class="space-y-3">
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-gray-600">CPU 请求/限制</span>
                                    <span class="text-gray-800">100m / 200m</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-blue-500 h-2 rounded-full" style="width: 50%"></div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between text-sm mb-1">
                                    <span class="text-gray-600">内存 请求/限制</span>
                                    <span class="text-gray-800">128Mi / 256Mi</span>
                                </div>
                                <div class="w-full bg-gray-200 rounded-full h-2">
                                    <div class="bg-green-500 h-2 rounded-full" style="width: 50%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 容器信息 -->
                    <div class="mb-6">
                        <h5 class="font-medium text-gray-800 mb-3">容器信息</h5>
                        <div class="bg-gray-50 rounded-lg p-3">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-gray-800">nginx</span>
                                <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Running</span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <div>镜像: nginx:1.21</div>
                                <div>容器ID: containerd://8f9a2b3c4d5e...</div>
                                <div>启动时间: 14:32:22</div>
                            </div>
                        </div>
                    </div>

                    <!-- 操作按钮 -->
                    <div class="flex gap-2">
                        <button onclick="viewPodYaml()" class="flex-1 bg-karmada-blue text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm">
                            <i class="fas fa-code mr-2"></i>查看 YAML
                        </button>
                        <button onclick="viewPodLogs()" class="flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors text-sm">
                            <i class="fas fa-terminal mr-2"></i>查看日志
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Pod YAML 模态框 -->
    <div id="podYamlModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-screen overflow-hidden">
            <div class="flex justify-between items-center p-6 border-b border-gray-200">
                <h3 class="text-xl font-bold text-gray-800">Pod YAML 配置</h3>
                <button onclick="closePodYamlModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <div class="p-6 overflow-y-auto max-h-96">
                <div class="yaml-content">
<pre class="text-sm">apiVersion: v1
kind: Pod
metadata:
  name: nginx-app-7d9f2c8b5-x8t9q
  namespace: default
  labels:
    app: nginx-app
    pod-template-hash: 7d9f2c8b5
  annotations:
    propagationpolicy.karmada.io/name: nginx-propagation
    propagationpolicy.karmada.io/namespace: default
spec:
  containers:
  - name: nginx
    image: nginx:1.21
    ports:
    - containerPort: 80
      protocol: TCP
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi
    volumeMounts:
    - name: kube-api-access
      mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      readOnly: true
  restartPolicy: Always
  serviceAccountName: default
  nodeName: m-rke2-worker01
  hostIP: 10.10.103.103
  podIP: 10.42.1.15
status:
  phase: Running
  conditions:
  - type: Initialized
    status: "True"
    lastTransitionTime: "2025-05-19T06:32:22Z"
  - type: Ready
    status: "True"
    lastTransitionTime: "2025-05-19T06:32:24Z"
  - type: ContainersReady
    status: "True"
    lastTransitionTime: "2025-05-19T06:32:24Z"
  - type: PodScheduled
    status: "True"
    lastTransitionTime: "2025-05-19T06:32:19Z"
  startTime: "2025-05-19T06:32:22Z"</pre>
                </div>
            </div>
            
            <div class="flex justify-end space-x-3 p-6 border-t border-gray-200">
                <button onclick="closePodYamlModal()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                    关闭
                </button>
                <button class="px-4 py-2 bg-karmada-blue text-white rounded-lg hover:bg-blue-700">
                    复制配置
                </button>
            </div>
        </div>
    </div>

    <script>
        // 查看策略详情
        function viewPolicyDetail(policyName) {
            window.open('policy-management.html', '_blank');
        }

        // 查看Pod YAML
        function viewPodYaml() {
            document.getElementById('podYamlModal').classList.remove('hidden');
        }

        // 关闭Pod YAML模态框
        function closePodYamlModal() {
            document.getElementById('podYamlModal').classList.add('hidden');
        }

        // 查看Pod日志
        function viewPodLogs() {
            alert('查看Pod日志功能');
        }

        // ESC键关闭模态框
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePodYamlModal();
            }
        });

        // 模拟流程动画
        setInterval(() => {
            const flowArrows = document.querySelectorAll('.flow-arrow');
            flowArrows.forEach(arrow => {
                arrow.style.animation = 'none';
                setTimeout(() => {
                    arrow.style.animation = 'flowPulse 2s infinite';
                }, 100);
            });
        }, 3000);
    </script>
</body>
</html> 