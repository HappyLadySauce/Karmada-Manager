<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karmada-Manager - 集群管理</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'karmada-blue': '#1B4F72',
                        'karmada-light': '#3498DB',
                        'karmada-green': '#27AE60',
                        'karmada-orange': '#F39C12',
                        'karmada-red': '#E74C3C'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .sidebar {
            width: 280px;
            min-height: 100vh;
            background: linear-gradient(180deg, #1B4F72 0%, #2C3E50 100%);
        }
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            background: #f8fafc;
        }
        .cluster-card {
            transition: all 0.3s ease;
        }
        .cluster-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .search-input {
            transition: all 0.3s ease;
        }
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- 侧边栏 -->
    <div class="sidebar fixed left-0 top-0 text-white shadow-xl z-10">
        <div class="p-6 border-b border-blue-600">
            <div class="flex items-center">
                <i class="fas fa-cubes text-3xl text-blue-300 mr-3"></i>
                <div>
                    <h1 class="text-xl font-bold">Karmada-Manager</h1>
                    <p class="text-blue-300 text-sm">多集群管理平台</p>
                </div>
            </div>
        </div>

        <nav class="mt-6">
            <a href="overview.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-tachometer-alt w-5 mr-3"></i>
                <span>系统概览</span>
            </a>
            <a href="clusters.html" class="flex items-center px-6 py-3 bg-blue-600 bg-opacity-50 border-r-4 border-blue-300">
                <i class="fas fa-cubes w-5 mr-3"></i>
                <span class="font-medium">集群管理</span>
            </a>
            <a href="workload-scheduling.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-project-diagram w-5 mr-3"></i>
                <span>调度可视化</span>
            </a>
            <a href="policy-management.html" class="flex items-center px-6 py-3 hover:bg-blue-600 hover:bg-opacity-30 transition-colors">
                <i class="fas fa-shield-alt w-5 mr-3"></i>
                <span>策略管理</span>
            </a>
            <div class="px-6 py-2 text-blue-300 text-sm font-medium mt-8">
                成员集群
            </div>
            <a href="cluster-detail.html" class="flex items-center px-6 py-2 hover:bg-blue-600 hover:bg-opacity-30 transition-colors text-sm">
                <i class="fas fa-server w-4 mr-3 text-green-400"></i>
                <span>master</span>
                <span class="ml-auto text-xs bg-green-500 px-2 py-1 rounded">Ready</span>
            </a>
            <a href="#" class="flex items-center px-6 py-2 hover:bg-blue-600 hover:bg-opacity-30 transition-colors text-sm">
                <i class="fas fa-server w-4 mr-3 text-green-400"></i>
                <span>branch</span>
                <span class="ml-auto text-xs bg-green-500 px-2 py-1 rounded">Ready</span>
            </a>
        </nav>

        <div class="absolute bottom-6 left-6 right-6">
            <div class="bg-blue-600 bg-opacity-30 rounded-lg p-4">
                <div class="flex items-center mb-2">
                    <i class="fas fa-user-circle mr-2"></i>
                    <span class="font-medium">张伟</span>
                </div>
                <div class="text-blue-300 text-sm">平台运维工程师</div>
            </div>
        </div>
    </div>

    <!-- 主内容区域 -->
    <div class="main-content">
        <!-- 顶部导航栏 -->
        <header class="bg-white shadow-sm border-b px-6 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <h2 class="text-2xl font-bold text-gray-800">集群管理</h2>
                    <p class="text-gray-600">管理和监控所有 Karmada 纳管的成员集群</p>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="flex items-center text-sm text-gray-600">
                        <i class="fas fa-server mr-2"></i>
                        <span>总集群数: 2</span>
                    </div>
                    <button class="bg-karmada-green text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors">
                        <i class="fas fa-plus mr-2"></i>添加集群
                    </button>
                </div>
            </div>
        </header>

        <!-- 搜索和过滤 -->
        <div class="p-6">
            <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                <div class="flex flex-col md:flex-row gap-4">
                    <!-- 搜索框 -->
                    <div class="flex-1">
                        <div class="relative">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input 
                                type="text" 
                                placeholder="搜索集群名称、标签或状态..."
                                class="search-input w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-karmada-blue"
                                id="searchInput"
                            >
                        </div>
                    </div>

                    <!-- 状态过滤 -->
                    <div class="flex gap-2">
                        <select class="px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-karmada-blue">
                            <option value="">所有状态</option>
                            <option value="ready">Ready</option>
                            <option value="notready">NotReady</option>
                            <option value="unknown">Unknown</option>
                        </select>
                        
                        <select class="px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-karmada-blue">
                            <option value="">所有版本</option>
                            <option value="v1.30">v1.30.x</option>
                            <option value="v1.29">v1.29.x</option>
                            <option value="v1.28">v1.28.x</option>
                        </select>

                        <button class="bg-karmada-blue text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors">
                            <i class="fas fa-filter mr-2"></i>筛选
                        </button>
                    </div>
                </div>
            </div>

            <!-- 集群统计摘要 -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-6">
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">总集群数</p>
                            <p class="text-3xl font-bold text-karmada-blue">2</p>
                        </div>
                        <div class="bg-blue-100 p-3 rounded-full">
                            <i class="fas fa-cubes text-2xl text-karmada-blue"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">就绪集群</p>
                            <p class="text-3xl font-bold text-green-600">2</p>
                        </div>
                        <div class="bg-green-100 p-3 rounded-full">
                            <i class="fas fa-check-circle text-2xl text-green-600"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">总节点数</p>
                            <p class="text-3xl font-bold text-purple-600">9</p>
                        </div>
                        <div class="bg-purple-100 p-3 rounded-full">
                            <i class="fas fa-server text-2xl text-purple-600"></i>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-lg p-6">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-gray-600 text-sm">平均负载</p>
                            <p class="text-3xl font-bold text-orange-600">58%</p>
                        </div>
                        <div class="bg-orange-100 p-3 rounded-full">
                            <i class="fas fa-chart-line text-2xl text-orange-600"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 集群列表 -->
            <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="text-xl font-bold text-gray-800">成员集群列表</h3>
                        <div class="flex items-center space-x-2 text-sm text-gray-600">
                            <span>每页显示:</span>
                            <select class="border border-gray-300 rounded px-2 py-1">
                                <option>10</option>
                                <option>25</option>
                                <option>50</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 表格标题 -->
                <div class="hidden lg:grid lg:grid-cols-12 gap-4 px-6 py-3 bg-gray-50 border-b border-gray-200 text-sm font-medium text-gray-700">
                    <div class="col-span-3">集群信息</div>
                    <div class="col-span-2">状态</div>
                    <div class="col-span-2">节点</div>
                    <div class="col-span-2">资源利用率</div>
                    <div class="col-span-2">创建时间</div>
                    <div class="col-span-1">操作</div>
                </div>

                <!-- 集群卡片 - master -->
                <div class="cluster-card border-b border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="px-6 py-6">
                        <div class="lg:hidden mb-4">
                            <h4 class="text-lg font-bold text-gray-800 mb-2">master</h4>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-12 gap-4 items-center">
                            <!-- 集群信息 -->
                            <div class="lg:col-span-3">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=40&h=40&fit=crop&crop=center" 
                                         alt="Kubernetes" class="w-10 h-10 rounded-lg mr-3">
                                    <div>
                                        <h4 class="font-bold text-gray-800 hidden lg:block">master</h4>
                                        <p class="text-sm text-gray-600">v1.30.11+rke2r1</p>
                                        <div class="flex items-center mt-1">
                                            <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">生产环境</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 状态 -->
                            <div class="lg:col-span-2">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                                    <span class="text-green-600 font-medium">Ready</span>
                                </div>
                                <p class="text-sm text-gray-600 mt-1">同步模式: Push</p>
                            </div>

                            <!-- 节点信息 -->
                            <div class="lg:col-span-2">
                                <div class="text-center lg:text-left">
                                    <p class="text-2xl font-bold text-karmada-blue">5</p>
                                    <p class="text-sm text-gray-600">节点 (5/5 就绪)</p>
                                    <div class="w-full bg-gray-200 rounded-full h-1 mt-1">
                                        <div class="bg-green-500 h-1 rounded-full" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- 资源利用率 -->
                            <div class="lg:col-span-2">
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">CPU</span>
                                        <span class="text-sm font-medium">55.6%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-1">
                                        <div class="bg-orange-500 h-1 rounded-full" style="width: 55.6%"></div>
                                    </div>
                                    
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">内存</span>
                                        <span class="text-sm font-medium">53.7%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-1">
                                        <div class="bg-red-500 h-1 rounded-full" style="width: 53.7%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- 创建时间 -->
                            <div class="lg:col-span-2">
                                <p class="text-sm text-gray-800">2025-05-19</p>
                                <p class="text-xs text-gray-600">13:18:34</p>
                            </div>

                            <!-- 操作 -->
                            <div class="lg:col-span-1">
                                <div class="flex items-center space-x-2">
                                    <button onclick="viewClusterDetail('master')" class="text-karmada-blue hover:text-blue-700 transition-colors" title="查看详情">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="text-gray-500 hover:text-gray-700 transition-colors" title="编辑">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="text-red-500 hover:text-red-700 transition-colors" title="删除">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 集群卡片 - branch -->
                <div class="cluster-card border-b border-gray-200 hover:bg-gray-50 transition-colors">
                    <div class="px-6 py-6">
                        <div class="lg:hidden mb-4">
                            <h4 class="text-lg font-bold text-gray-800 mb-2">branch</h4>
                        </div>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-12 gap-4 items-center">
                            <!-- 集群信息 -->
                            <div class="lg:col-span-3">
                                <div class="flex items-center">
                                    <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=40&h=40&fit=crop&crop=center" 
                                         alt="Kubernetes" class="w-10 h-10 rounded-lg mr-3">
                                    <div>
                                        <h4 class="font-bold text-gray-800 hidden lg:block">branch</h4>
                                        <p class="text-sm text-gray-600">v1.30.11+rke2r1</p>
                                        <div class="flex items-center mt-1">
                                            <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">开发环境</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 状态 -->
                            <div class="lg:col-span-2">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"></div>
                                    <span class="text-green-600 font-medium">Ready</span>
                                </div>
                                <p class="text-sm text-gray-600 mt-1">同步模式: Push</p>
                            </div>

                            <!-- 节点信息 -->
                            <div class="lg:col-span-2">
                                <div class="text-center lg:text-left">
                                    <p class="text-2xl font-bold text-karmada-blue">4</p>
                                    <p class="text-sm text-gray-600">节点 (4/4 就绪)</p>
                                    <div class="w-full bg-gray-200 rounded-full h-1 mt-1">
                                        <div class="bg-green-500 h-1 rounded-full" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- 资源利用率 -->
                            <div class="lg:col-span-2">
                                <div class="space-y-2">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">CPU</span>
                                        <span class="text-sm font-medium">65.8%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-1">
                                        <div class="bg-orange-500 h-1 rounded-full" style="width: 65.8%"></div>
                                    </div>
                                    
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">内存</span>
                                        <span class="text-sm font-medium">60.3%</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-1">
                                        <div class="bg-red-500 h-1 rounded-full" style="width: 60.3%"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- 创建时间 -->
                            <div class="lg:col-span-2">
                                <p class="text-sm text-gray-800">2025-05-19</p>
                                <p class="text-xs text-gray-600">13:43:59</p>
                            </div>

                            <!-- 操作 -->
                            <div class="lg:col-span-1">
                                <div class="flex items-center space-x-2">
                                    <button onclick="viewClusterDetail('branch')" class="text-karmada-blue hover:text-blue-700 transition-colors" title="查看详情">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="text-gray-500 hover:text-gray-700 transition-colors" title="编辑">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="text-red-500 hover:text-red-700 transition-colors" title="删除">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 分页 -->
                <div class="px-6 py-4 bg-gray-50 flex justify-between items-center">
                    <div class="text-sm text-gray-600">
                        显示第 1-2 项，共 2 项结果
                    </div>
                    <div class="flex items-center space-x-2">
                        <button class="px-3 py-1 border border-gray-300 rounded bg-white text-gray-500 cursor-not-allowed">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="px-3 py-1 border border-karmada-blue bg-karmada-blue text-white rounded">
                            1
                        </button>
                        <button class="px-3 py-1 border border-gray-300 rounded bg-white text-gray-500 cursor-not-allowed">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 搜索功能
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const clusterCards = document.querySelectorAll('.cluster-card');
            
            clusterCards.forEach(card => {
                const clusterName = card.querySelector('h4').textContent.toLowerCase();
                if (clusterName.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        });

        // 查看集群详情
        function viewClusterDetail(clusterName) {
            if (clusterName === 'master') {
                window.open('cluster-detail.html', '_blank');
            } else {
                alert(`查看 ${clusterName} 集群详情`);
            }
        }

        // 模拟实时状态更新
        setInterval(() => {
            const statusDots = document.querySelectorAll('.animate-pulse');
            statusDots.forEach(dot => {
                dot.style.animation = 'none';
                setTimeout(() => {
                    dot.style.animation = 'pulse 2s infinite';
                }, 100);
            });
        }, 3000);
    </script>
</body>
</html> 